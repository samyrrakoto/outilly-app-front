<media-gallery [sale]="sale"></media-gallery>

<h1 class="title is-1 has-text-weight-bold">{{ this.sale.product.name }}</h1>
<h2 class="subtitle is-6">Marques : <span *ngFor="let brand of this.sale.product.brands" class="has-text-danger has-text-weight-bold">{{ brand.name }} </span></h2>

<!-- General information -->
<div class="box">
    <h2 class="subtitle is-5 has-text-weight-bold has-text-centered">Informations générales</h2>

    <div class="columns">

        <!-- description -->
        <div class="column">
            <h2 class="subtitle has-text-weight-bold">Description</h2>

            <div class="content is-size-6">
                <span *ngIf="!descriptionFlag">{{ this.sale.product.description.slice(0, 255) + "..." }}</span>
                <span *ngIf="descriptionFlag">{{ this.sale.product.description }}</span>
            </div>

            <div class="content has-text-centered">
                <button class="button is-danger is-outlined" (click)="displayDescription()">
                    <span *ngIf="!descriptionFlag">Lire la suite</span>
                    <span *ngIf="descriptionFlag">Raccourcir</span>
                </button>

                <button class="button is-info is-outlined" (click)="openModal('readMore')">Read more</button>
            </div>
        </div>

        <!-- vertical separation between the two parts -->
        <div class="is-divider-vertical"></div>

        <!-- technical information -->
        <div class="column has-text-centered">
            <div class="content is-centered">
                <table class="table">
                    <tr>
                        <td><fa-icon [icon]="['fas', 'search']"></fa-icon> Etat du produit :</td>
                        <td>{{ this.sale.product.quality }} <a class="has-text-danger" (click)="openModal('knowMore')">(en savoir plus) <fa-icon [icon]="['fas', 'info-circle']"></fa-icon></a></td>
                    </tr>
                    <tr>
                        <td><fa-icon [icon]="['fas', 'weight-hanging']"></fa-icon> Poids total : </td>
                        <td>{{ this.sale.product.weight }}</td>
                    </tr>
                    <tr>
                        <td><fa-icon [icon]="['fas', 'map-marker-alt']"></fa-icon> Localisation : </td>
                        <td>{{ this.sale.product.locality }}</td>
                    </tr>
                </table>
            </div>

            <figure class="image is-256x256">
                <a><img src="../../../../assets/img/product/maps-preview.png" (click)="openImage('../../../assets/img/product/maps-preview.png')"></a>
            </figure>
        </div>
    </div>
</div>

<div class="box">
    <predefined-question></predefined-question>
</div>

<!-- [Modal] Read more -->
<div class="modal {{ readMore }}">
    <div class="modal-background" (click)="closeModal('readMore')"></div>
    <div class="modal-content">
        <div class="box">
            <h2 class="subtitle has-text-weight-bold">Description</h2>

            <div class="content">
                {{ this.sale.product.description }}
            </div>
        </div>
    </div>
    <button class="modal-close is-large" aria-label="close" (click)="closeModal('readMore')"></button>
</div>

<!-- [Modal] Know more about products state -->
<div class="modal {{ knowMore }}">
    <div class="modal-background" (click)="closeModal('knowMore')"></div>
    <div class="modal-content">
        <div class="box">
            <h2 class="subtitle">Nous différencions 5 états de produits :</h2>

            <div class="content">
            <ol type="1">
                <li>Comme neuf</li>
                <li>Bon</li>
                <li>Correct</li>
                <li>Mauvais</li>
                <li>Très mauvais</li>
            </ol>
            </div>
        </div>
    </div>
    <button class="modal-close is-large" aria-label="close" (click)="closeModal('knowMore')"></button>
</div>

<!-- Image Modal -->
<div class="modal {{ imgModal }}">
    <div class="modal-background" (click)="closeImage()"></div>
    <div class="modal-content">
        <div class="box">
            <figure class="image">
                <img src="{{ imgPath }}">
            </figure>
        </div>
    </div>
    <button class="modal-close is-large" aria-label="close" (click)="closeImage()"></button>
</div>